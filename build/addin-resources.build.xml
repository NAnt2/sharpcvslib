<project name="Sharp CVS Add-In" default="build">
	<property name="config" value="Debug" />
	<property name="projectdir" value="../src/SharpCvsAddIn" />
	<property name="setup.project.dir" value="../src/SharpCvsAddInSetup" />
	<property name="outputdir" value="${projectdir}/bin/${config}" />
	
	
	<target name="build" description="Builds satellite assemblies used for multi-language support">
		<foreach item="String" in="1033" delim="," property="locale" >
		
		<resgen input="${projectdir}/Resources/${locale}/app-strings.txt" output="${outputdir}/app-strings.resources" verbose="true" />
			<mkdir dir="${outputdir}/${locale}" />
			<al output="${outputdir}/${locale}/language-assembly.dll" target="lib" verbose="true" >
				<sources basedir="${outputdir}">
					<include name="*.resources" />
				</sources>
			</al>
			
			<copy file="${outputdir}/${locale}/language-assembly.dll" todir="${setup.project.dir}/${locale}" />
		</foreach>		

	</target>
	
	
</project>
